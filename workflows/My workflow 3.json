{
  "active": false,
  "connections": {
    "Manual Trigger": {
      "main": [
        [
          {
            "node": "Move Binary Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Move Binary Data": {
      "main": [
        [
          {
            "node": "SplitInBatches",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "SplitInBatches": {
      "main": [
        [
          {
            "node": "HTTP Request",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTTP Request": {
      "main": [
        [
          {
            "node": "Combine Results",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Combine Results": {
      "main": [
        [
          {
            "node": "Convert to CSV",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Convert to CSV": {
      "main": [
        [
          {
            "node": "Write Binary File",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-06-25T16:53:44.436Z",
  "id": "a5v9k9doGXikkYnx",
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "My workflow 3",
  "nodes": [
    {
      "parameters": {},
      "name": "Manual Trigger",
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        1080,
        380
      ],
      "id": "2eea8ddb-0afa-4096-b212-45161bb26d4e"
    },
    {
      "parameters": {
        "options": {}
      },
      "name": "Move Binary Data",
      "type": "n8n-nodes-base.moveBinaryData",
      "typeVersion": 1,
      "position": [
        1330,
        380
      ],
      "id": "d446c293-8125-43ab-b85e-c4fa4daca97f"
    },
    {
      "parameters": {
        "batchSize": 1,
        "options": {}
      },
      "name": "SplitInBatches",
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 1,
      "position": [
        1580,
        380
      ],
      "id": "791a8f8f-25d0-4983-bd4d-ca1c4b4fcff0"
    },
    {
      "parameters": {
        "requestMethod": "POST",
        "url": "https://addressvalidation.googleapis.com/v1:validateAddress?key=YOUR_API_KEY",
        "jsonParameters": true,
        "options": {},
        "bodyParametersJson": "{\n  \"address\": {\n    \"addressLines\": [\"{{$json[\"addressLine\"]}}\"],\n    \"regionCode\": \"{{$json[\"regionCode\"]}}\",\n    \"locality\": \"{{$json[\"locality\"]}}\",\n    \"administrativeArea\": \"{{$json[\"administrativeArea\"]}}\",\n    \"postalCode\": \"{{$json[\"postalCode\"]}}\"\n  }\n}"
      },
      "name": "HTTP Request",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        1830,
        380
      ],
      "id": "3b26ca76-f625-4528-9a0b-c7c1abcd55cb"
    },
    {
      "parameters": {
        "options": {}
      },
      "name": "Combine Results",
      "type": "n8n-nodes-base.itemLists",
      "typeVersion": 1,
      "position": [
        2080,
        380
      ],
      "id": "93ac2eb6-683f-4cdc-8259-b4d6b2a4f9c0"
    },
    {
      "parameters": {
        "functionCode": "const items = [];\nfor (const item of $input.all()) {\n  items.push(item.json);\n}\nconst fields = Object.keys(items[0]);\nconst csv = [fields.join(','), ...items.map(row => fields.map(field => row[field]).join(','))].join('\\n');\nreturn [{ json: {}, binary: { data: Buffer.from(csv).toString('base64') } }];"
      },
      "name": "Convert to CSV",
      "type": "n8n-nodes-base.function",
      "typeVersion": 1,
      "position": [
        2330,
        380
      ],
      "id": "7b1a7a50-ee01-44fa-b4c7-b2c989f05d61"
    },
    {
      "parameters": {
        "options": {}
      },
      "name": "Write Binary File",
      "type": "n8n-nodes-base.writeBinaryFile",
      "typeVersion": 1,
      "position": [
        2580,
        380
      ],
      "id": "e5f00ef5-3816-4822-b3bb-87d217a73130"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2024-06-25T16:53:44.436Z",
  "versionId": "c0f3484f-308b-4115-8a14-fbdfbf566048"
}