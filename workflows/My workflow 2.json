{
  "active": false,
  "connections": {
    "Email Trigger (IMAP)": {
      "main": [
        [
          {
            "node": "IF Subject Matches",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF Subject Matches": {
      "main": [
        [
          {
            "node": "IF Date Less Than 24 Hours",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "IF Date Less Than 24 Hours": {
      "main": [
        [
          {
            "node": "Extract CSV Data",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Extract CSV Data": {
      "main": [
        [
          {
            "node": "Generate Short URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Generate Short URL": {
      "main": [
        [
          {
            "node": "Insert Short URL",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-07-24T20:53:51.147Z",
  "id": "D7N3pmaQGf57dpLt",
  "meta": null,
  "name": "My workflow 2",
  "nodes": [
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "INSERT INTO your_table_name (original_url, short_url) VALUES ('{{ $json[\"original_url\"] }}', '{{ $json[\"shorturl\"] }}');"
      },
      "name": "Insert Short URL",
      "type": "n8n-nodes-base.mySql",
      "typeVersion": 1,
      "position": [
        1380,
        460
      ],
      "id": "ec7cba43-f9b5-48db-92ab-e2cd0ab18d3f"
    },
    {
      "parameters": {
        "postProcessAction": "nothing",
        "downloadAttachments": true,
        "options": {}
      },
      "id": "ef7cc4d7-28a1-4ed2-8881-46090cf3e8d9",
      "name": "Email Trigger (IMAP)",
      "type": "n8n-nodes-base.emailReadImap",
      "typeVersion": 2,
      "position": [
        60,
        380
      ],
      "credentials": {
        "imap": {
          "id": "jiJskG7OLUbWOE4M",
          "name": "IMAP account"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "string": [
            {
              "value1": "={{$json[\"subject\"]}}",
              "operation": "contains",
              "value2": "MYSQL Update"
            }
          ]
        }
      },
      "name": "IF Subject Matches",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        240,
        380
      ],
      "id": "5ac8e605-73b4-4e15-a229-cd14a8f777a5"
    },
    {
      "parameters": {
        "conditions": {
          "dateTime": [
            {
              "value1": "={{$json[\"date\"]}}",
              "value2": "={{new Date(new Date().getTime() - 24*60*60*1000).toISOString()}}"
            }
          ]
        }
      },
      "name": "IF Date Less Than 24 Hours",
      "type": "n8n-nodes-base.if",
      "typeVersion": 1,
      "position": [
        480,
        460
      ],
      "id": "b6559068-3dfd-4e49-8dbf-7ac2f31f911e"
    },
    {
      "parameters": {
        "binaryPropertyName": "attachment_0",
        "options": {}
      },
      "id": "215ac544-ac00-466f-88ee-1dd41951c230",
      "name": "Extract CSV Data",
      "type": "n8n-nodes-base.extractFromFile",
      "typeVersion": 1,
      "position": [
        680,
        460
      ]
    },
    {
      "parameters": {
        "authentication": "predefinedCredentialType",
        "url": "https://blazeproperty.com/urls/yourls-api.php",
        "options": {},
        "queryParametersUi": {
          "parameter": [
            {
              "name": "signature",
              "value": "93623f6f8"
            },
            {
              "name": "action",
              "value": "shorturl"
            },
            {
              "name": "url",
              "value": "=https://blazepropertymanagement.appfolio.com/listings/detail/{{ $json['Rentable UID'] }}"
            },
            {
              "name": "format",
              "value": "json"
            }
          ]
        }
      },
      "name": "Generate Short URL",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 1,
      "position": [
        920,
        460
      ],
      "id": "2bf56c8c-9261-4d2f-bf5f-139896112259",
      "onError": "continueRegularOutput"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2024-07-24T21:02:09.000Z",
  "versionId": "57e4b82b-d5ea-4334-a17a-3aad2ebae813"
}