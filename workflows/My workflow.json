{
  "active": false,
  "connections": {
    "Get Posts": {
      "main": [
        [
          {
            "node": "Filter New Posts",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Get Pages": {
      "main": [
        [
          {
            "node": "Filter New Pages",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter New Posts": {
      "main": [
        [
          {
            "node": "Send Notification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Filter New Pages": {
      "main": [
        [
          {
            "node": "Send Notification",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2024-07-09T19:16:11.866Z",
  "id": "9LuFK9K6DCxM9CQI",
  "meta": null,
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "url": "https://blzres.com/wp-json/wp/v2/posts",
        "options": {}
      },
      "name": "Get Posts",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        800,
        780
      ],
      "id": "befd4c6b-09a9-43b7-b1db-bbe4cdbe6c8e"
    },
    {
      "parameters": {
        "url": "https://blzres.com/wp-json/wp/v2/pages",
        "options": {}
      },
      "name": "Get Pages",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 2,
      "position": [
        800,
        580
      ],
      "id": "21f499db-2698-4cfd-bbbb-9be8a7fc2455"
    },
    {
      "parameters": {
        "functionCode": "const newItems = [];\nconst currentTimestamp = new Date().getTime();\nconst oneHour = 3600000;\n\nitems[0].json.forEach(item => {\n  const itemTimestamp = new Date(item.date).getTime();\n  if (currentTimestamp - itemTimestamp < oneHour) {\n    newItems.push({ json: item });\n  }\n});\n\nreturn newItems;"
      },
      "name": "Filter New Posts",
      "type": "n8n-nodes-base.function",
      "typeVersion": 2,
      "position": [
        1050,
        780
      ],
      "id": "a3938e33-2fc8-4e6c-badd-92279acfa88b"
    },
    {
      "parameters": {
        "functionCode": "const newItems = [];\nconst currentTimestamp = new Date().getTime();\nconst oneHour = 3600000;\n\nitems[0].json.forEach(item => {\n  const itemTimestamp = new Date(item.date).getTime();\n  if (currentTimestamp - itemTimestamp < oneHour) {\n    newItems.push({ json: item });\n  }\n});\n\nreturn newItems;"
      },
      "name": "Filter New Pages",
      "type": "n8n-nodes-base.function",
      "typeVersion": 2,
      "position": [
        1050,
        580
      ],
      "id": "090b42a8-024a-491b-896b-d43277c00afe"
    },
    {
      "parameters": {
        "subject": "New Post/Page on Blaze Real Estate",
        "text": "New {{ $json.type }}: {{ $json.title.rendered }}\n\n{{ $json.excerpt.rendered }}\n\nRead more: {{ $json.link }}",
        "options": {}
      },
      "name": "Send Notification",
      "type": "n8n-nodes-base.emailSend",
      "typeVersion": 2,
      "position": [
        1300,
        680
      ],
      "id": "7d25a327-1937-423a-98ec-706a803d7886"
    }
  ],
  "pinData": {},
  "settings": {
    "executionOrder": "v1"
  },
  "staticData": null,
  "tags": [],
  "triggerCount": 0,
  "updatedAt": "2024-07-09T19:16:11.866Z",
  "versionId": "47deaf65-fea3-4604-aa9c-a2c02ca91a4a"
}